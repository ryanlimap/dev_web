<div class="app-wrapper">
  <app-side-bar></app-side-bar>
  <div class="main-content">
    <app-header (searchEvent)="onSearch($event)"></app-header>

    <div class="container">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
          <h1 *ngIf="!isSearchMode">üéµ Descobrir M√∫sicas</h1>
          <h1 *ngIf="isSearchMode">üîç Resultados para "{{ currentSearchTerm }}"</h1>
          <small *ngIf="isSearchMode" class="text-muted">
            <button class="btn btn-link btn-sm p-0 text-decoration-none" (click)="onSearch('')">
              ‚Üê Voltar para descobrir m√∫sicas
            </button>
          </small>
        </div>
        <button
          class="btn btn-outline-success"
          (click)="refreshMusics()"
          [disabled]="isLoading">
          üîÑ {{ isLoading ? 'Carregando...' : (isSearchMode ? 'Buscar Novamente' : 'Novas M√∫sicas') }}
        </button>
      </div>

      <div class="row">
        <!-- Loading State -->
        <div *ngIf="isLoading" class="col-12 text-center py-5">
          <div class="spinner-border text-success" role="status">
            <span class="visually-hidden">Carregando m√∫sicas...</span>
          </div>
          <p class="mt-3 text-white-50">Buscando m√∫sicas aleat√≥rias do Spotify...</p>
        </div>

        <!-- Error State -->
        <div *ngIf="error && !isLoading" class="col-12 text-center py-5">
          <div class="alert alert-warning" role="alert">
            {{ error }}
            <button class="btn btn-warning btn-sm ms-2" (click)="refreshMusics()">
              Tentar Novamente
            </button>
          </div>
        </div>

        <!-- Music Cards -->
        <ul *ngIf="!isLoading && !error">
          <li *ngFor="let musica of musicas; trackBy: trackByMusicId" class="list-item">
            <app-musics-card
              [title]="musica.name"
              [artist]="musica.artists[0]?.name"
              [image]="musica.album?.images[0]?.url"
              [preview]="musica.preview_url">
            </app-musics-card>
          </li>
        </ul>
        <section class="queue-section">
      <h2>Recentes</h2>
      <div class="queue-list">
        <div class="queue-item active">
          <span>1</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-year">2025</span>
          <span class="music-time">04:32</span>
          <span class="icon-heart">&#10084;</span>
        </div>
        <div class="queue-item">
          <span>2</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-year">2025</span>
          <span class="music-time">04:32</span>
          <span class="icon-heart">&#9825;</span>
        </div>
        <div class="queue-item">
          <span>3</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-year">2025</span>
          <span class="music-time">04:32</span>
          <span class="icon-heart">&#9825;</span>
        </div>
        <div class="queue-item">
          <span>4</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-year">2025</span>
          <span class="music-time">04:32</span>
          <span class="icon-heart">&#9825;</span>
        </div>
        <div class="queue-item">
          <span>5</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-year">2025</span>
          <span class="music-time">04:32</span>
          <span class="icon-heart">&#9825;</span>
        </div>
      </div>
    </section>
      </div>
    </div>
  </div>
  <div class="app-wrapper">
  <main class="main-content">
    <aside class="sidebar">
      <input class="search" type="text" placeholder="Pesquise algo" />
    </aside>
    <section class="artists-section">
      <h2>Artistas Populares</h2>
      <div class="artists-list">
        <div class="artist-card">
          <img src="artista1.jpg" alt="Artista 1" />
          <span>Dj Ryan027</span>
        </div>
        <div class="artist-card">
          <img src="linkinpark.jpg" alt="Linkin Park" />
          <span>Linkinpark</span>
        </div>
        <div class="artist-card">
          <img src="eminem.jpg" alt="Eminem" />
          <span>Eminem</span>
        </div>
      </div>
    </section>
    <section class="queue-section">
      <h2>Pr√≥ximos na fila</h2>
      <div class="queue-list">
        <div class="queue-item active">
          <span class="icon-heart">&#10084;</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-time">04:32</span>
          <span class="icon-close">&#10006;</span>
        </div>
        <div class="queue-item">
          <span class="icon-heart">&#9825;</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-time">04:32</span>
          <span class="icon-close">&#10006;</span>
        </div>
        <div class="queue-item">
          <span class="icon-heart">&#9825;</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-time">04:32</span>
          <span class="icon-close">&#10006;</span>
        </div>
        <div class="queue-item">
          <span class="icon-heart">&#9825;</span>
          <img src="artista1.jpg" alt="Dj Ryan027" />
          <div class="music-info">
            <span class="music-title">So as melhores</span>
            <span class="music-artist">Dj Ryan027</span>
          </div>
          <span class="music-time">04:32</span>
          <span class="icon-close">&#10006;</span>
        </div>
      </div>
    </section>
  </main>
</div>
